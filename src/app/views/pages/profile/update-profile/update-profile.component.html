<form [formGroup]="admins" (ngSubmit)="updateAdmin()">
  <div class="row">
    <div class="col-sm-12">
      <nb-card>
        <nb-card-header>CẬP NHẬT HỒ SƠ</nb-card-header>
        <nb-card-body>
          <div class="row">
            <div class="form-group form-group-avatar">

              <!-- Image Preview -->
              <div class="imagePreview" *ngIf="admins.value['avatar']" >
                <img [src]="admins.value['avatar']">
              </div>

              <!-- Select File -->
              <input type="file" nbInput fullWidth accept="image/*" (change)="showPreview($event)" />
              <div *ngIf="submitted && f.avatar.errors">
                <small *ngIf="f.avatar.errors.required" class="text-danger small-popup">Ảnh đại diện không được bỏ trống!</small>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-sm-6">
              <div class="form-group">
                <label class="label">Họ</label>
                <input type="text" nbInput fullWidth formControlName="lastName">
                <div *ngIf="submitted && f.lastName.errors">
                  <small *ngIf="f.lastName.errors.required" class="text-danger small-popup">Họ không được bỏ trống!</small>
                </div>
              </div>
            </div>
            <div class="col-sm-6">
              <div class="form-group">
                <label class="label">Tên</label>
                <input type="text" nbInput fullWidth formControlName="firstName">
                <div *ngIf="submitted && f.firstName.errors">
                  <small *ngIf="f.firstName.errors.required" class="text-danger small-popup">Tên không được bỏ trống!</small>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-sm-6">
              <div class="form-group">
                <label class="label">Tên người dùng</label>
                <input type="email" nbInput fullWidth formControlName="username">
                <div *ngIf="submitted && f.username.errors">
                  <small *ngIf="f.username.errors.required" class="text-danger small-popup">Tên đăng nhập không được bỏ trống!</small>
                  <small *ngIf="f.username.errors.required" class="text-danger small-popup">Tên đăng nhập phải ít nhất 6 kí tự!!</small>
                </div>
              </div>
            </div>
            <div class="col-sm-6">
              <div class="form-group">
                <label class="label">Email</label>
                <input type="email" nbInput fullWidth formControlName="email">
                <div *ngIf="submitted && f.email.errors">
                  <small *ngIf="f.email.errors.required" class="text-danger small-popup">Email không được bỏ trống!</small>
                  <small *ngIf="f.email.errors.email" class="text-danger small-popup">Email chưa đúng định dạng!</small>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-sm-6">
              <div class="form-group">
                <label class="label">Số điện thoại</label>
                <input type="text" nbInput fullWidth formControlName="phone">
                <div *ngIf="submitted && f.phone.errors">
                  <small *ngIf="f.phone.errors.required" class="text-danger small-popup">Số điện thoại không được bỏ trống!</small>
                  <small *ngIf="f.phone.errors.pattern" class="text-danger small-popup">Số điện thoại chưa đúng!</small>
                </div>
              </div>
            </div>
            <div class="col-sm-6">
              <div class="form-group">
                <label class="label" >Vai trò</label>
                <nb-radio-group formControlName="role">
                  <nb-radio value="admin">Quản trị viên</nb-radio>
                  <nb-radio value="staff">Nhân viên</nb-radio>
                </nb-radio-group>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-sm-6">
              <div class="form-group">
                <label class="label">Trạng thái</label>
                <nb-radio-group formControlName="status">
                  <nb-radio value="1">Kích hoạt</nb-radio>
                  <nb-radio value="0">Vô hiệu hoá</nb-radio>
                </nb-radio-group>
              </div>
            </div>
          </div>
          <button type="submit" nbButton status="success" class="float-right">Cập nhật</button>
        </nb-card-body>
      </nb-card>
    </div>
  </div>
</form>
